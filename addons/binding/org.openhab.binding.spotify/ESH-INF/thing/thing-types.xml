<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="spotify"
						  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
						  xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
						  xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

                                                 
    <!-- Spotify Player Device -->
    <bridge-type id="player">

        <label>Spotify Player Bridge</label>
        <description>Bridge representing the Spotify Player in the context of a user account. The bridge is associated with one specific Spotify account. If you want to control your devices in the context of different accounts you have to register a bridge for each account.</description>

        <channels>
            <channel id="accessToken" typeId="accessToken" />
            
            <channel id="deviceId" typeId="deviceId"/>
            <channel id="deviceName" typeId="deviceName"/>
            <channel id="deviceType" typeId="deviceType"/>
            <channel id="deviceVolume" typeId="deviceVolume"/>
            <channel id="deviceActive" typeId="deviceActive"/>

            <channel id="trackPlay" typeId="trackPlay"/>
            <channel id="trackPlayer" typeId="trackPlayer"/>
            <channel id="trackRepeat" typeId="trackRepeat"/>
            <channel id="trackShuffle" typeId="trackShuffle"/>
            <channel id="trackId" typeId="currentlyPlayedTrackId"/>
            <channel id="trackHref" typeId="currentlyPlayedTrackHref"/>
            <channel id="trackUri" typeId="currentlyPlayedTrackUri"/>
            <channel id="trackName" typeId="currentlyPlayedTrackName"/>
            <channel id="trackType" typeId="currentlyPlayedTrackType"/>
            <channel id="trackNumber" typeId="currentlyPlayedTrackNumber"/>
            <channel id="trackDiscNumber" typeId="currentlyPlayedTrackDiscNumber"/>
            <channel id="trackPopularity" typeId="currentlyPlayedTrackPopularity"/>
            <channel id="trackDurationMs" typeId="currentlyPlayedTrackDurationMs"/>
            <channel id="trackProgressMs" typeId="currentlyPlayedTrackProgressMs"/>
            <channel id="trackDuration" typeId="currentlyPlayedTrackDuration"/>
            <channel id="trackProgress" typeId="currentlyPlayedTrackProgress"/>

            <channel id="albumId" typeId="currentlyPlayedAlbumId"/>
            <channel id="albumUri" typeId="currentlyPlayedAlbumUri"/>
            <channel id="albumHref" typeId="currentlyPlayedAlbumHref"/>
            <channel id="albumType" typeId="currentlyPlayedAlbumType"/>
            <channel id="albumName" typeId="currentlyPlayedAlbumName"/>

            <channel id="artistId" typeId="currentlyPlayedArtistId"/>
            <channel id="artistUri" typeId="currentlyPlayedArtistUri"/>
            <channel id="artistHref" typeId="currentlyPlayedArtistHref"/>
            <channel id="artistType" typeId="currentlyPlayedArtistType"/>
            <channel id="artistName" typeId="currentlyPlayedArtistName"/>
        </channels>
   
        <config-description>
            <parameter name="clientId" type="text">
                <context>clientId</context>
                <required>true</required>
                <label>Spotify Application Client ID</label>
                <description>This is the Client ID provided by Spotify when you add a new Application for openHAB to your Spotify Account. Go to https://developer.spotify.com/</description>
            </parameter>
            <parameter name="clientSecret" type="text">
                <context>clientSecret</context>
                <required>true</required>
                <label>Spotify Application Client Secret</label>
                <description>
                    This is the Client Secret provided by Spotify when you add a new Application for openHAB to your Spotify Account.
                </description>
            </parameter>
            <parameter name="refreshPeriod" type="integer" min="1" max="60">
                <context>refreshPeriod</context>
                <required>true</required>
                <default>5</default>
                <label>Spotify Connect refresh period (seconds)</label>
                <description>
                    This is the frequency of the polling requests to the Spotify Connect WebAPI. There are limits to the number of requests that can be sent to the WebAPI. The more often you poll, the better status updates - at the risk of running out of your request quota.
                </description>
            </parameter>
            <parameter name="refreshToken" type="text">
                <context>refreshToken</context>
                <required>false</required>
                <default>Go to http://[your.server:port]/connectspotify/ to authorize</default>
                <label>Spotify Client Authorization Refresh Token</label>
                <description>
                    This is the refresh token provided by Spotify when you authorize yourself with the Web API and grant the required scope access. After authorization this field will hold the refreshToken used to re-authorize with the Web API.
                </description>
            </parameter>
        </config-description>


        </bridge-type>

      
    <!-- Spotify Player Device -->
        <thing-type id="device">
        <supported-bridge-type-refs>
            <bridge-type-ref id="player" />
        </supported-bridge-type-refs>
        
                <label>Spotify Connect Device Thing</label>
                <description>Thing representing a Spotify Connect device. The device exists in the context of the bridge and the Spotfy account associated with the bride. This means the same device can be present as a thing under each Spotify bridge you have configured.</description>

                <channels>
            <channel id="trackPlay" typeId="trackPlay"/>
            <channel id="deviceId" typeId="deviceId"/>
            <channel id="deviceName" typeId="deviceName"/>
            <channel id="deviceType" typeId="deviceType"/>
            <channel id="devicePlay" typeId="devicePlay"/>
            <channel id="deviceVolume" typeId="deviceVolume"/>
            <channel id="deviceActive" typeId="deviceActive"/>
            <channel id="deviceRestricted" typeId="deviceRestricted"/>
            <channel id="deviceShuffle" typeId="deviceShuffle"/>
        </channels>
        
       <properties>
             <property name="id"></property>
             <property name="is_restricted"></property>
        </properties>
        
        </thing-type>


        <!-- Channel Types -->
    <channel-type id="accessToken" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Access Token</label>
        <description>This channel provides the access token used to authorize calls to the Spotify WebAPI. It can be used from rules or client-side scripting make call to WebAPI.</description>
    </channel-type>
    <channel-type id="trackPlay">
        <item-type>String</item-type>
        <label>Spotify Track to Play</label>
        <description>Channel to assign Spotify track/album/playlist to play. Accepts Spotify Uri:s and Hrefs.</description>
    </channel-type>
    <channel-type id="trackPlayer">
        <item-type>Player</item-type>
        <label>Spotify Track Player Control</label>
        <description>Channel for Spotify player control</description>
    </channel-type>
    <channel-type id="trackRepeat">
        <item-type>String</item-type>
        <label>Spotify Track Player Repeat Mode</label>
        <description>Channel for Spotify player repeat mode</description>
    </channel-type>
    <channel-type id="trackShuffle">
        <item-type>Switch</item-type>
        <label>Spotify Track Player Shuffle</label>
        <description>Channel for Spotify player shuffle mode</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackId" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track Id</label>
        <description>Channel for Spotify track id currently being played.</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackHref" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track href</label>
        <description>Channel for Spotify track href currently played</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackUri" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track Uri</label>
        <description>Channel for Spotify track Uri currently played</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackName">
        <item-type>String</item-type>
        <label>Spotify Track Name</label>
        <description>Channel for Spotify currently played track name</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackType" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track Type</label>
        <description>Channel for Spotify currently played track type</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackDurationMs" advanced="true">
        <item-type>Number</item-type>
        <label>Spotify Track Duration ms</label>
        <description>Channel for Spotify currently played track duration (ms)</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackProgressMs" advanced="true">
        <item-type>Number</item-type>
        <label>Spotify Track Progress ms</label>
        <description>Channel for Spotify currently played track progress (ms)</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackDuration">
        <item-type>String</item-type>
        <label>Spotify Track Duration (m:ss)</label>
        <description>Channel for Spotify currently played track duration formatted (m:ss)</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackProgress">
        <item-type>String</item-type>
        <label>Spotify Track Progress (m:ss)</label>
        <description>Channel for Spotify currently played track progress formatted (m:ss)</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackNumber" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track Number</label>
        <description>Channel for Spotify currently played track number</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackDiscNumber" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Track Disc Number</label>
        <description>Channel for Spotify currently played track disc number</description>
    </channel-type>
    <channel-type id="currentlyPlayedTrackPopularity" advanced="true">
        <item-type>Dimmer</item-type>
        <label>Spotify Track Popularity</label>
        <description>Channel for Spotify currently played track popularity</description>
    </channel-type>

    
    <channel-type id="currentlyPlayedAlbumId" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Album href</label>
        <description>Channel for Spotify currently played album href</description>
    </channel-type>
    <channel-type id="currentlyPlayedAlbumHref" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Album href</label>
        <description>Channel for Spotify currently played album href</description>
    </channel-type>
    <channel-type id="currentlyPlayedAlbumUri" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Album href</label>
        <description>Channel for Spotify currently played album Uri</description>
    </channel-type>
    <channel-type id="currentlyPlayedAlbumName">
        <item-type>String</item-type>
        <label>Spotify Album Name</label>
        <description>Channel for Spotify currently played album name</description>
    </channel-type>    
    <channel-type id="currentlyPlayedAlbumType" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Album Type</label>
        <description>Channel for Spotify currently played album type</description>
    </channel-type>    


   <channel-type id="currentlyPlayedArtistId" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Artist Id</label>
        <description>Channel for Spotify currently played artist Id</description>
    </channel-type>
    <channel-type id="currentlyPlayedArtistHref" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Artist href</label>
        <description>Channel for Spotify currently played artist href</description>
    </channel-type>
    <channel-type id="currentlyPlayedArtistUri" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Artist Uri</label>
        <description>Channel for Spotify currently played artist Uri</description>
    </channel-type>
    <channel-type id="currentlyPlayedArtistName">
        <item-type>String</item-type>
        <label>Spotify Artist Name</label>
        <description>Channel for Spotify currently played artist name</description>
    </channel-type>    
    <channel-type id="currentlyPlayedArtistType" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Artist Type</label>
        <description>Channel for Spotify currently played artist type</description>
    </channel-type>    
 
   
    <channel-type id="deviceId" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Connect Active Device Id</label>
        <description>Channel for SpotifyConnect active device id</description>
    </channel-type>
    <channel-type id="deviceName">
        <item-type>String</item-type>
        <label>Spotify Connect Device Name</label>
        <description>Channel for SpotifyConnect active device name</description>
    </channel-type>
    <channel-type id="deviceType" advanced="true">
        <item-type>String</item-type>
        <label>Spotify Connect Device Type</label>
        <description>Channel reports device type</description>
    </channel-type>
    <channel-type id="devicePlay">
        <item-type>Player</item-type>
        <label>Spotify Connect Device Play</label>
        <description>Channel for controlling device play/pause/next/prev</description>
        <category>Player</category>
    </channel-type>
    <channel-type id="deviceVolume">
        <item-type>Dimmer</item-type>
        <label>Spotify Connect Device Volume</label>
        <description>Channel for SpotifyConnect currently playing device volume</description>
        <category>SoundVolume</category>
    </channel-type>
    <channel-type id="deviceShuffle">
        <item-type>Switch</item-type>
        <label>Spotify Connect Device Shuffle active</label>
        <description>Channel controls shuffle for device</description>
        <category>Switch</category>
    </channel-type>
    <channel-type id="deviceActive" advanced="true">
        <item-type>Switch</item-type>
        <label>Spotify Connect Device Active</label>
        <description>Channel reports active status for device</description>
        <category>Switch</category>
    </channel-type>
    <channel-type id="deviceRestricted" advanced="true">
        <item-type>Switch</item-type>
        <label>Spotify Connect Device Restricted</label>
        <description>Channel reports whether the device is restricted or not - can it be controlled or not?</description>
        <category>Switch</category>
    </channel-type>

</thing:thing-descriptions>
